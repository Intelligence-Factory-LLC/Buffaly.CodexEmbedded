* {
	box-sizing: border-box;
}

html,
body {
	margin: 0;
	padding: 0;
	height: 100%;
	font-family: "Segoe UI", Tahoma, sans-serif;
	background: #f3f4f6;
	color: #111827;
}

.layout {
	height: 100%;
	min-height: 100dvh;
	display: flex;
	flex-direction: column;
}

.toolbar {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	padding: 0.75rem 1rem;
	background: #1f2937;
	color: #f9fafb;
	gap: 1rem;
}

.toolbar-left,
.toolbar-right {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	flex-wrap: wrap;
}

.toolbar-left {
	flex: 1 1 auto;
	min-width: 0;
}

.toolbar-right {
	flex: 0 1 auto;
}

.toolbar input {
	padding: 0.4rem 0.6rem;
	border: 1px solid #4b5563;
	border-radius: 4px;
	min-width: 180px;
	background: #111827;
	color: #f9fafb;
}

.toolbar select {
	padding: 0.4rem 0.6rem;
	border: 1px solid #4b5563;
	border-radius: 4px;
	background: #111827;
	color: #f9fafb;
	min-width: 130px;
}

#existingSessionSelect,
#sessionSelect {
	min-width: 260px;
	max-width: 340px;
}

#watcherDirectorySelect,
#watcherSessionSelect {
	min-width: 220px;
	max-width: 320px;
}

.toolbar button {
	padding: 0.45rem 0.8rem;
	border: 0;
	border-radius: 4px;
	background: #2563eb;
	color: #fff;
	cursor: pointer;
}

.toolbar-about-btn {
	background: #1e293b;
	border: 1px solid #475569;
	color: #e2e8f0;
}

.toolbar-secondary {
	background: #1e293b !important;
	border: 1px solid #475569 !important;
}

.toolbar-link {
	display: inline-block;
	padding: 0.4rem 0.6rem;
	border-radius: 4px;
	text-decoration: none;
	color: #bfdbfe;
	border: 1px solid transparent;
}

.toolbar-link.active {
	color: #ffffff;
	border-color: #60a5fa;
	background: #1d4ed8;
}

.toolbar .nav-link {
	line-height: 1.15;
}

.toolbar-mobile-projects-btn {
	display: none;
	position: fixed;
	top: 0.75rem;
	left: 0.75rem;
	z-index: 45;
}

.toolbar button:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.security-warning-banner {
	padding: 0.65rem 0.9rem;
	background: #fef3c7;
	border-top: 1px solid #f59e0b;
	border-bottom: 1px solid #f59e0b;
	color: #78350f;
	font-size: 0.86rem;
	font-weight: 600;
}

.main {
	flex: 1;
	display: grid;
	grid-template-columns: 2fr 1fr;
	gap: 0.75rem;
	padding: 0.75rem;
	min-height: 0;
}

.codex-main {
	grid-template-columns: 320px 1fr;
}

.logs-main {
	grid-template-columns: 1fr;
}

.panel {
	background: #fff;
	border: 1px solid #d1d5db;
	border-radius: 8px;
	display: flex;
	flex-direction: column;
	min-width: 0;
	min-height: 0;
}

.chat-panel {
	position: relative;
}

.chat-panel.session-loading::before {
	content: "";
	position: absolute;
	inset: 0;
	background: rgba(248, 250, 252, 0.62);
	pointer-events: none;
	z-index: 4;
}

.chat-panel.session-loading::after {
	content: "";
	position: absolute;
	top: 50%;
	left: 50%;
	width: 1.35rem;
	height: 1.35rem;
	margin-top: -0.675rem;
	margin-left: -0.675rem;
	border-radius: 999px;
	border: 2px solid #cbd5e1;
	border-top-color: #0f766e;
	animation: session-processing-spin 0.9s linear infinite;
	pointer-events: none;
	z-index: 5;
}

.session-sidebar {
	overflow: hidden;
}

.sidebar-shell-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 0.45rem;
	padding: 0.5rem 0.55rem 0.3rem;
	border-bottom: 1px solid #e5e7eb;
	background: #f8fafc;
}

.sidebar-logo-btn {
	width: 1.95rem;
	height: 1.95rem;
	border: 1px solid #d1d5db;
	border-radius: 999px;
	background: #ffffff;
	color: #0f172a;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-decoration: none;
}

.sidebar-logo-btn:hover {
	background: #eef2ff;
	color: #1d4ed8;
}

.sidebar-logo-image {
	width: 1.3rem;
	height: 1.3rem;
	object-fit: contain;
	display: block;
}

.sidebar-shell-toggle-btn {
	width: 1.95rem;
	height: 1.95rem;
	border-radius: 999px;
}

.sidebar-nav {
	display: flex;
	flex-direction: column;
	gap: 0.15rem;
	padding: 0.35rem 0.55rem 0.35rem;
	background: #f8fafc;
}

.sidebar-nav-link {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.45rem 0.6rem;
	border-radius: 8px;
	border: 1px solid transparent;
	background: transparent;
	color: #334155;
	font-size: 0.9rem;
	font-weight: 600;
	text-decoration: none;
	text-align: left;
	cursor: pointer;
}

.sidebar-nav-link:hover {
	background: #eef2ff;
	color: #1e3a8a;
}

.sidebar-nav-link.active {
	background: #dbeafe;
	border-color: #93c5fd;
	color: #1d4ed8;
}

.sidebar-nav-link i {
	font-size: 0.9rem;
	line-height: 1;
}

.sidebar-nav-button {
	width: 100%;
	font: inherit;
}

.sidebar-divider {
	height: 1px;
	margin: 0 0.55rem;
	background: #e5e7eb;
}

.sidebar-create-row {
	padding: 0.35rem 0.55rem;
	background: #f8fafc;
}

.new-project-btn {
	display: inline-flex;
	align-items: center;
	justify-content: flex-start;
	gap: 0.5rem;
	width: 100%;
	padding: 0.45rem 0.6rem !important;
	border-radius: 8px !important;
	border: 1px solid transparent !important;
	background: transparent !important;
	color: #334155 !important;
	font-weight: 600;
	font-size: 0.9rem;
}

.new-project-btn:hover {
	background: #eef2ff !important;
	color: #1e3a8a !important;
}

.new-project-btn i {
	font-size: 0.9rem;
}

.project-list {
	flex: 1;
	overflow: auto;
	padding: 0;
	display: flex;
	flex-direction: column;
	gap: 0;
	background: #ffffff;
}

.project-group {
	border: 0;
	border-top: 1px solid #e2e8f0;
	border-radius: 0;
	background: #ffffff;
}

.project-group:first-child {
	border-top: 0;
}

.project-group + .project-group {
	border-top: 2px solid #b8c5d6;
}

.project-header {
	display: flex;
	align-items: center;
	gap: 0.45rem;
	padding: 0.45rem 0.55rem;
	border-bottom: 1px solid #edf2f7;
	background: #ffffff;
}

.project-toggle {
	width: 1.1rem;
	height: 1.1rem;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border: 0;
	background: transparent;
	color: #64748b;
	cursor: pointer;
	font-size: 0.86rem;
	padding: 0;
}

.project-name-wrap {
	flex: 1;
	min-width: 0;
	cursor: pointer;
}

.project-name {
	font-size: 0.88rem;
	font-weight: 600;
	color: #0f172a;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.project-path {
	font-size: 0.75rem;
	color: #64748b;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.project-actions {
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
}

.icon-btn {
	width: 1.55rem;
	height: 1.55rem;
	border: 1px solid #cbd5e1;
	border-radius: 999px;
	background: #ffffff;
	color: #475569;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 0;
	font-size: 0.78rem;
	line-height: 1;
}

.icon-btn svg {
	width: 0.9rem;
	height: 0.9rem;
	stroke: currentColor;
	stroke-width: 1.8;
	fill: none;
	stroke-linecap: round;
	stroke-linejoin: round;
}

.icon-btn .bi {
	font-size: 0.92rem;
	line-height: 1;
	pointer-events: none;
}

.project-sessions {
	padding: 0.1rem 0;
	display: flex;
	flex-direction: column;
	gap: 0;
	background: #f8fafc;
}

.project-group.collapsed .project-sessions {
	display: none;
}

.session-row {
	border: 0;
	border-radius: 0;
	background: transparent;
	padding: 0.36rem 0.55rem;
	margin: 0;
}

.session-row + .session-row {
	border-top: 1px solid #e2e8f0;
}

.session-row:hover {
	background: #f8fbff;
}

.session-row.active {
	background: #d9e8ff;
	box-shadow: inset 4px 0 0 #1d4ed8;
}

.session-row.active .session-title {
	color: #1e40af;
	font-weight: 700;
}

.session-row.loading {
	background: #ecfeff;
	box-shadow: inset 4px 0 0 #14b8a6;
}

.session-row-head {
	display: flex;
	align-items: center;
	gap: 0.35rem;
}

.session-open-btn {
	flex: 1;
	min-width: 0;
	border: 0;
	background: transparent;
	padding: 0;
	text-align: left;
	cursor: pointer;
}

.session-title {
	font-size: 0.84rem;
	color: #0f172a;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.session-subtitle {
	font-size: 0.73rem;
	color: #64748b;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	margin-top: 0.15rem;
}

.more-sessions-btn {
	width: 100%;
	margin-top: 0;
	padding: 0.34rem 0.5rem;
	border: 0;
	border-top: 1px solid #e2e8f0;
	background: transparent;
	color: #2563eb;
	font-size: 0.78rem;
	font-weight: 600;
	text-align: left;
	cursor: pointer;
}

.more-sessions-btn:hover {
	text-decoration: underline;
}

.session-badges {
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
}

.session-badge {
	font-size: 0.67rem;
	padding: 0.08rem 0.34rem;
	border-radius: 999px;
	background: #e2e8f0;
	color: #334155;
}

.session-badge.processing {
	background: #fde68a;
	color: #92400e;
	width: 1.45rem;
	height: 1.45rem;
	padding: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;
}

.session-badge.completed-unread {
	width: 0.62rem;
	height: 0.62rem;
	padding: 0;
	border-radius: 999px;
	background: #16a34a;
	box-shadow: 0 0 0 1px #dcfce7;
}

.session-processing-icon {
	font-size: 0.74rem;
	line-height: 1;
	animation: session-processing-spin 0.95s linear infinite;
}

@keyframes session-processing-spin {
	from { transform: rotate(0deg); }
	to { transform: rotate(360deg); }
}

.sidebar-empty {
	padding: 0.8rem;
	color: #64748b;
	font-size: 0.86rem;
}

.layout.sidebar-collapsed .codex-main {
	grid-template-columns: 56px 1fr;
}

.layout.sidebar-collapsed .sidebar-divider,
.layout.sidebar-collapsed .sidebar-create-row,
.layout.sidebar-collapsed .project-list {
	display: none;
}

.layout.sidebar-collapsed .sidebar-nav {
	padding-inline: 0.35rem;
}

.layout.sidebar-collapsed .sidebar-shell-header {
	justify-content: center;
	padding-inline: 0.2rem;
}

.layout.sidebar-collapsed .sidebar-logo-btn {
	display: none;
}

.layout.sidebar-collapsed .sidebar-nav-link {
	justify-content: center;
	padding-inline: 0.35rem;
}

.layout.sidebar-collapsed .sidebar-nav-link span {
	display: none;
}

.layout.sidebar-collapsed .session-sidebar {
	width: 56px;
	min-width: 56px;
}

.panel-title {
	padding: 0.65rem 0.8rem;
	border-bottom: 1px solid #e5e7eb;
	font-weight: 600;
}

.panel-title-row {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 0.5rem;
}

.sidebar-collapse-btn {
	width: 1.85rem;
	height: 1.85rem;
	padding: 0;
	border: 1px solid #cbd5e1;
	border-radius: 6px;
	background: #ffffff;
	color: #334155;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
}

.sidebar-collapse-btn:hover {
	background: #f8fafc;
	color: #0f172a;
}

.conversation-title-row {
	gap: 0.75rem;
	align-items: center;
}

.conversation-title-text {
	font-weight: 700;
	font-size: 1.05rem;
	line-height: 1.2;
	min-width: 0;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.conversation-meta-toggle {
	display: none;
	padding: 0.28rem 0.52rem;
	border: 1px solid #cbd5e1;
	border-radius: 999px;
	background: #ffffff;
	color: #334155;
	font-size: 0.74rem;
	font-weight: 700;
	line-height: 1;
}

.conversation-meta {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-wrap: wrap;
	gap: 0.35rem 0.45rem;
	justify-content: flex-end;
	align-items: center;
}

.conversation-meta-item {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	max-width: 100%;
	padding: 0.22rem 0.5rem;
	border-radius: 999px;
	border: 1px solid #d1d5db;
	background: #ffffff;
	font-size: 0.76rem;
	color: #334155;
}

.conversation-meta-label {
	font-weight: 700;
	color: #475569;
}

.conversation-meta-value {
	max-width: 360px;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.conversation-meta-summary {
	display: none;
}

.conversation-meta-model {
	padding-right: 0.24rem;
}

.conversation-meta-model select {
	border: 0;
	background: transparent;
	font: inherit;
	color: #0f172a;
	min-width: 132px;
	padding: 0 0.1rem;
	outline: none;
	cursor: pointer;
}

#conversationReasoningSelect {
	min-width: 108px;
	margin-left: 0.28rem;
	padding-left: 0.38rem;
	border-left: 1px solid #e2e8f0;
}

.conversation-meta-cwd .conversation-meta-value {
	max-width: 420px;
}

.messages {
	flex: 1;
	padding: 0.75rem;
	overflow: auto;
	display: flex;
	flex-direction: column;
	gap: 0.6rem;
}

.msg {
	padding: 0.55rem 0.7rem;
	border-radius: 6px;
	max-width: 92%;
	white-space: pre-wrap;
}

.msg.user {
	align-self: flex-end;
	background: #dbeafe;
}

.msg.assistant {
	align-self: flex-start;
	background: #f3f4f6;
}

.msg.system {
	align-self: center;
	background: #fef3c7;
}

.prompt-form {
	display: block;
	position: relative;
	padding: 0.75rem;
	border-top: 1px solid #e5e7eb;
}

.prompt-queue {
	margin: 0.6rem 0.75rem 0;
	padding: 0.4rem 0.55rem;
	border: 1px solid #cbd5e1;
	border-radius: 6px;
	background: #f8fafc;
	color: #334155;
	font-size: 0.82rem;
	white-space: normal;
}

.prompt-queue-header {
	font-weight: 600;
	margin-bottom: 0.3rem;
}

.prompt-queue-list {
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
}

.prompt-queue-item {
	width: 100%;
	text-align: left;
	padding: 0.35rem 0.45rem;
	border: 1px solid #d1d5db;
	border-radius: 5px;
	background: #ffffff;
	color: #0f172a;
	font-size: 0.8rem;
	cursor: pointer;
}

.prompt-queue-item:hover {
	background: #eef2ff;
	border-color: #a5b4fc;
}

.turn-activity {
	position: relative;
	margin: 0.45rem 0.75rem 0;
	padding: 0.5rem 0.65rem;
	border: 1px solid #bfdbfe;
	border-radius: 10px;
	background: #eff6ff;
	color: #1e3a8a;
	overflow: hidden;
}

.turn-activity.running::after {
	content: "";
	position: absolute;
	inset: 0;
	background: linear-gradient(105deg, rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.55) 50%, rgba(255, 255, 255, 0) 80%);
	transform: translateX(-110%);
	animation: turn-activity-shimmer 1.6s linear infinite;
	pointer-events: none;
}

.turn-activity-header {
	position: relative;
	z-index: 1;
	display: flex;
	align-items: center;
	gap: 0.45rem;
	min-width: 0;
	font-size: 0.79rem;
	font-weight: 700;
}

.turn-activity-timer {
	color: #1d4ed8;
	white-space: nowrap;
}

.turn-activity-cancel-link {
	margin-left: auto;
	flex: 0 0 auto;
	padding: 0;
	border: 0;
	background: transparent;
	color: #b91c1c;
	font-size: 0.79rem;
	font-weight: 700;
	text-decoration: underline;
	cursor: pointer;
}

.turn-activity-cancel-link:hover {
	color: #991b1b;
}

.turn-activity-reasoning {
	position: relative;
	z-index: 1;
	flex: 1 1 auto;
	min-width: 0;
	font-size: 0.8rem;
	font-family: Consolas, "Courier New", monospace;
	color: #0f172a;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

@keyframes turn-activity-shimmer {
	from {
		transform: translateX(-110%);
	}
	to {
		transform: translateX(110%);
	}
}

.command-modal {
	position: fixed;
	inset: 0;
	background: rgba(15, 23, 42, 0.5);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 20;
	padding: 1rem;
}

.command-modal-card {
	width: min(520px, 100%);
	background: #ffffff;
	border: 1px solid #d1d5db;
	border-radius: 10px;
	box-shadow: 0 20px 40px rgba(2, 6, 23, 0.18);
	padding: 0.8rem;
}

.command-modal-title {
	font-weight: 700;
	color: #111827;
	margin-bottom: 0.65rem;
}

.command-modal-body {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.command-modal-body select,
.command-modal-body input {
	padding: 0.5rem 0.6rem;
	border: 1px solid #d1d5db;
	border-radius: 6px;
	font: inherit;
}

.command-modal-actions {
	margin-top: 0.75rem;
	display: flex;
	justify-content: flex-end;
	gap: 0.45rem;
}

.command-modal-actions button {
	padding: 0.45rem 0.75rem;
	border-radius: 6px;
	border: 1px solid #d1d5db;
	background: #ffffff;
	cursor: pointer;
}

.command-modal-actions button:first-child {
	background: #0f766e;
	color: #ffffff;
	border-color: #0f766e;
}

.about-modal-card {
	width: min(600px, 100%);
}

.about-modal-body {
	gap: 0.55rem;
}

.about-heading {
	font-weight: 700;
	color: #0f172a;
}

.about-line {
	font-size: 0.9rem;
	color: #0f172a;
	line-height: 1.35;
}

.about-list {
	margin: 0;
	padding-left: 1.1rem;
	color: #0f172a;
	font-size: 0.9rem;
	line-height: 1.35;
}

.about-list li + li {
	margin-top: 0.24rem;
}

.about-link-line {
	display: inline-flex;
	align-items: center;
	gap: 0.25rem;
}

.about-line a {
	color: #2563eb;
	font-weight: 600;
}

.about-muted {
	color: #475569;
}

.prompt-form textarea {
	display: block;
	width: 100%;
	min-width: 0;
	padding: 0.75rem 9.85rem 2.95rem 0.9rem;
	border: 1px solid #d1d5db;
	border-radius: 18px;
	min-height: 7.2rem;
	background: #ffffff;
	box-shadow: 0 1px 3px rgba(15, 23, 42, 0.05);
	resize: vertical;
	font: inherit;
	line-height: 1.35;
}

.prompt-form textarea.drag-over {
	border-color: #0f766e;
	box-shadow: inset 0 0 0 1px #0f766e;
	background: #f0fdfa;
}

.prompt-actions {
	position: absolute;
	right: 1.35rem;
	bottom: 1.35rem;
	z-index: 3;
	display: flex;
	align-items: center;
	gap: 0.3rem;
	min-width: 0;
	width: auto;
}

.composer-status-stack {
	display: none;
}

.context-left-indicator {
	padding: 0.18rem 0.45rem;
	border-radius: 999px;
	border: 1px solid #cbd5e1;
	background: #ffffff;
	color: #334155;
	font-size: 0.68rem;
	font-weight: 700;
	line-height: 1.15;
	white-space: nowrap;
}

.permission-level-indicator {
	padding: 0.22rem 0.5rem;
	border-radius: 999px;
	border: 1px solid #cbd5e1;
	background: #ffffff;
	color: #334155;
	font-size: 0.68rem;
	font-weight: 600;
	line-height: 1.15;
	white-space: nowrap;
}

.prompt-form button {
	padding: 0.55rem 0.8rem;
	border: 0;
	border-radius: 4px;
	background: #0f766e;
	color: #fff;
	cursor: pointer;
}

.prompt-form .prompt-send-btn {
	width: 2.3rem;
	height: 2.3rem;
	min-width: 2.3rem;
	padding: 0 !important;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 999px;
	background: #111827;
	font-weight: 700;
	box-shadow: 0 6px 16px rgba(15, 23, 42, 0.24);
	margin-left: 0.05rem;
}

.prompt-form .prompt-send-btn i {
	font-size: 0.98rem;
}

.prompt-form .prompt-send-btn:hover {
	background: #0f172a;
}

.prompt-form .prompt-send-btn.queue-mode {
	background: #111827;
	color: #ffffff;
	box-shadow: 0 8px 18px rgba(15, 23, 42, 0.3);
}

.prompt-form .prompt-send-btn.solo-send {
	margin-left: 0.05rem;
}

.prompt-upload-btn {
	background: #ffffff !important;
	color: #475569 !important;
	border: 1px solid #d1d5db !important;
	width: 2.25rem;
	height: 2.25rem;
	padding: 0 !important;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 999px !important;
	margin-right: 0;
}

.prompt-queue-btn {
	width: 2.3rem;
	height: 2.3rem;
	min-width: 2.3rem;
	padding: 0 !important;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	background: #0f766e !important;
	color: #ffffff !important;
	border-radius: 999px !important;
	box-shadow: 0 8px 18px rgba(15, 118, 110, 0.24);
}

.prompt-queue-btn i {
	font-size: 0.92rem;
}

.prompt-queue-btn:hover {
	background: #115e59 !important;
}

.prompt-cancel-btn {
	width: 2.3rem;
	height: 2.3rem;
	min-width: 2.3rem;
	padding: 0 !important;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	background: #b91c1c !important;
	color: #ffffff !important;
	border-radius: 999px !important;
	box-shadow: 0 8px 18px rgba(185, 28, 28, 0.24);
}

.prompt-cancel-btn i {
	font-size: 0.92rem;
}

.prompt-cancel-btn:hover {
	background: #991b1b !important;
}

.prompt-upload-icon {
	width: 1.05rem;
	height: 1.05rem;
	stroke: currentColor;
	stroke-width: 1.9;
	fill: none;
	stroke-linecap: round;
	stroke-linejoin: round;
}

.composer-images {
	display: flex;
	flex-wrap: wrap;
	gap: 0.45rem;
	padding: 0.55rem 0.75rem 0;
}

.composer-image-pill {
	position: relative;
	width: 64px;
	height: 64px;
	border-radius: 12px;
	overflow: hidden;
	border: 1px solid #d1d5db;
	background: #ffffff;
}

.composer-image-pill img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.composer-image-remove {
	position: absolute;
	top: 4px;
	right: 4px;
	width: 20px;
	height: 20px;
	border: 0;
	border-radius: 999px;
	background: rgba(17, 24, 39, 0.72);
	color: #ffffff;
	font-size: 0.72rem;
	line-height: 20px;
	padding: 0;
	cursor: pointer;
}

.log-output {
	flex: 1;
	display: block;
	margin: 0;
	padding: 0.75rem;
	overflow-x: auto;
	overflow-y: auto;
	width: 100%;
	max-width: 100%;
	min-width: 0;
	min-height: 0;
	white-space: pre;
	word-break: normal;
	overflow-wrap: normal;
	-webkit-overflow-scrolling: touch;
	background: #111827;
	color: #d1fae5;
	font-size: 0.86rem;
	line-height: 1.3;
}

.logs-status {
	padding: 0.55rem 0.8rem;
	border-bottom: 1px solid #e5e7eb;
	color: #4b5563;
	font-size: 0.9rem;
}

.logs-help-text {
	padding: 0.55rem 0.8rem;
	border-bottom: 1px solid #e5e7eb;
	background: #f8fafc;
	color: #334155;
	font-size: 0.86rem;
}

.server-refresh-btn {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.28rem 0.5rem !important;
	border-radius: 999px !important;
	font-size: 0.74rem;
	font-weight: 600;
}

.server-meta {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
	gap: 0.45rem;
	padding: 0.55rem 0.75rem;
	border-bottom: 1px solid #e5e7eb;
	background: #ffffff;
}

.server-meta-chip {
	display: flex;
	flex-direction: column;
	gap: 0.08rem;
	padding: 0.4rem 0.52rem;
	border: 1px solid #dbe5f1;
	border-radius: 8px;
	background: #f8fafc;
}

.server-meta-label {
	font-size: 0.7rem;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.02em;
	color: #64748b;
}

.server-meta-value {
	font-size: 0.83rem;
	font-weight: 600;
	color: #0f172a;
	word-break: break-word;
}

.server-section {
	border-top: 1px solid #e5e7eb;
}

.server-section-title {
	padding: 0.5rem 0.75rem;
	font-size: 0.82rem;
	font-weight: 700;
	color: #334155;
	background: #f8fafc;
	border-bottom: 1px solid #e5e7eb;
}

.server-table-wrap {
	overflow: auto;
	background: #ffffff;
}

.server-table {
	width: 100%;
	border-collapse: collapse;
	font-size: 0.79rem;
}

.server-table th,
.server-table td {
	padding: 0.42rem 0.55rem;
	border-bottom: 1px solid #edf2f7;
	vertical-align: top;
	text-align: left;
}

.server-table thead th {
	position: sticky;
	top: 0;
	background: #f8fafc;
	z-index: 1;
	font-size: 0.72rem;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.02em;
	color: #64748b;
}

.server-table-empty {
	padding: 0.75rem !important;
	color: #64748b;
}

.server-state-badge {
	display: inline-flex;
	align-items: center;
	padding: 0.16rem 0.45rem;
	border-radius: 999px;
	border: 1px solid #cbd5e1;
	background: #f1f5f9;
	color: #334155;
	font-size: 0.72rem;
	font-weight: 700;
	white-space: nowrap;
}

.server-state-badge.state-in-response {
	background: #dcfce7;
	border-color: #86efac;
	color: #166534;
}

.server-state-badge.state-awaiting-approval {
	background: #fef3c7;
	border-color: #fcd34d;
	color: #92400e;
}

.server-state-badge.state-idle {
	background: #e2e8f0;
	border-color: #cbd5e1;
	color: #334155;
}

.server-raw-output {
	max-height: 340px;
	flex: 0 0 auto;
	font-size: 0.75rem;
	line-height: 1.35;
}

.project-title-wrap {
	flex: 1;
	min-width: 0;
}

.session-item {
	padding: 0.35rem 0.55rem;
	background: #f8fafc;
	border-top: 1px solid #e2e8f0;
}

.session-item-row {
	font-size: 0.8rem;
	font-weight: 600;
	color: #0f172a;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.session-item-meta {
	margin-top: 0.1rem;
	font-size: 0.72rem;
	color: #64748b;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.watcher-timeline {
	flex: 1;
	min-height: 0;
	overflow: auto;
	padding: 0.75rem;
	display: flex;
	flex-direction: column;
	gap: 0.6rem;
	background: #f8fafc;
}

.scroll-to-bottom-btn {
	position: absolute;
	left: 50%;
	bottom: 6.25rem;
	width: 2.2rem;
	height: 2.2rem;
	border: 0;
	border-radius: 999px;
	background: #0f766e;
	color: #ffffff;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	box-shadow: 0 8px 18px rgba(15, 118, 110, 0.32);
	cursor: pointer;
	z-index: 6;
	transform: translateX(-50%);
}

.scroll-to-bottom-btn:hover {
	background: #115e59;
}

.watcher-entry {
	background: #ffffff;
	border: 1px solid #d1d5db;
	border-left-width: 4px;
	border-radius: 8px;
	padding: 0.55rem 0.7rem;
	padding-right: 2.5rem;
	position: relative;
}

.watcher-entry.user {
	border-left-color: #3b82f6;
}

.watcher-entry.assistant {
	border-left-color: #10b981;
}

.watcher-entry.tool {
	border-left-color: #f59e0b;
}

.watcher-entry.reasoning {
	border-left-color: #8b5cf6;
}

.watcher-entry.system {
	border-left-color: #6b7280;
}

.watcher-entry-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 0.75rem;
	margin-bottom: 0.35rem;
}

.watcher-entry-title {
	font-weight: 600;
	font-size: 0.9rem;
	color: #1f2937;
}

.watcher-entry-time {
	font-size: 0.78rem;
	color: #6b7280;
	white-space: nowrap;
}

.watcher-entry-text {
	margin: 0;
	white-space: pre-wrap;
	word-break: break-word;
	font-size: 0.86rem;
	color: #111827;
	background: transparent;
	font-family: Consolas, "Courier New", monospace;
}

.watcher-entry-collapsible {
	margin-top: 0.18rem;
}

.watcher-entry-collapsible > summary {
	cursor: pointer;
	list-style: none;
	font-size: 0.76rem;
	font-weight: 700;
	color: #334155;
	user-select: none;
}

.watcher-entry-collapsible > summary::-webkit-details-marker {
	display: none;
}

.watcher-agents-collapsible {
	margin-top: 0.2rem;
	border: 1px solid #dbeafe;
	border-radius: 8px;
	padding: 0.4rem 0.55rem;
	background: #f8fbff;
}

.watcher-agents-summary {
	display: inline-flex;
	align-items: center;
	gap: 0.45rem;
	font-size: 0.8rem;
	font-weight: 700;
	color: #1e3a8a;
}

.watcher-agents-icon {
	font-size: 0.95rem;
	color: #2563eb;
}

.watcher-env-collapsible {
	margin-top: 0.2rem;
	border: 1px solid #d1fae5;
	border-radius: 8px;
	padding: 0.4rem 0.55rem;
	background: #f0fdf4;
}

.watcher-env-summary {
	display: inline-flex;
	align-items: center;
	gap: 0.45rem;
	font-size: 0.8rem;
	font-weight: 700;
	color: #065f46;
}

.watcher-env-icon {
	font-size: 0.95rem;
	color: #047857;
}

.watcher-entry-images {
	margin-top: 0.45rem;
	display: flex;
	flex-wrap: wrap;
	gap: 0.45rem;
}

.watcher-entry-actions {
	position: absolute;
	top: 0.35rem;
	right: 0.35rem;
	display: inline-flex;
	align-items: center;
	opacity: 0;
	pointer-events: none;
	transform: translateY(-2px);
	transition: opacity 0.14s ease, transform 0.14s ease;
	z-index: 1;
}

.watcher-entry-copy-btn {
	width: 1.48rem;
	height: 1.48rem;
	border: 1px solid #d1d5db;
	border-radius: 999px;
	background: #ffffff;
	color: #334155;
	padding: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	box-shadow: 0 1px 2px rgba(15, 23, 42, 0.12);
}

.watcher-entry-copy-btn:hover {
	border-color: #94a3b8;
	background: #ffffff;
	color: #0f172a;
}

.watcher-entry-copy-btn:focus-visible {
	outline: 2px solid #60a5fa;
	outline-offset: 1px;
}

.watcher-entry-copy-btn.is-copied {
	border-color: #10b981;
	background: #ecfdf5;
	color: #047857;
}

.watcher-entry-copy-icon {
	font-size: 0.76rem;
	line-height: 1;
}

.watcher-entry-copy-label {
	display: none;
}

.watcher-entry.watcher-entry-actions-visible .watcher-entry-actions,
.watcher-embedded-entry.watcher-entry-actions-visible .watcher-entry-actions {
	opacity: 1;
	pointer-events: auto;
	transform: translateY(0);
}

.watcher-entry-image {
	width: 120px;
	height: 90px;
	border-radius: 10px;
	overflow: hidden;
	border: 1px solid #d1d5db;
	background: #f8fafc;
}

.watcher-entry-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	display: block;
}

.watcher-embedded-entry {
	margin: 0.3rem 0;
	padding-right: 2rem;
	position: relative;
}

.watcher-embedded-entry .watcher-entry-collapsible {
	margin-top: 0;
}

.timeline-truncation-note {
	display: flex;
	align-items: center;
	gap: 0.45rem;
	margin-bottom: 0.45rem;
	padding: 0.35rem 0.5rem;
	border: 1px solid #dbeafe;
	border-radius: 8px;
	background: #eff6ff;
	font-size: 0.82rem;
	color: #1f2937;
}

.watcher-inline-entry {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.2rem 0.1rem;
	font-size: 0.84rem;
	color: #374151;
	border-bottom: 1px dashed #e5e7eb;
	flex-wrap: wrap;
}

.watcher-inline-note {
	padding: 0.35rem 0.5rem;
	border: 1px solid #dbeafe;
	border-radius: 8px;
	background: #eff6ff;
	border-bottom-style: solid;
}

.watcher-inline-task {
	padding: 0.32rem 0.1rem;
	border-top: 1px solid #e5e7eb;
	border-bottom: 1px solid #e5e7eb;
}

.watcher-task-start {
	background: #f8fafc;
	border-left-color: #0ea5e9 !important;
}

.watcher-inline-task.watcher-task-boundary-clickable {
	cursor: pointer;
}

.watcher-inline-task.watcher-task-boundary-clickable:hover {
	background: #eff6ff;
}

.watcher-inline-task.watcher-task-boundary-clickable:focus-visible {
	outline: 2px solid #60a5fa;
	outline-offset: 2px;
	border-radius: 6px;
}

.watcher-inline-task.watcher-task-collapsed {
	background: #f1f5f9;
}

.watcher-task-end {
	background: #f8fafc;
	border-left-color: #94a3b8 !important;
}

.watcher-task-child {
	margin-left: calc(var(--task-depth, 1) * 0.62rem);
	padding-left: 0.56rem;
	border-left: 2px dashed #cbd5e1;
}

.watcher-inline-entry.watcher-task-child {
	padding-left: 0.5rem;
}

.watcher-task-toggle {
	border: 1px solid #cbd5e1;
	border-radius: 999px;
	background: #eff6ff;
	color: #1e3a8a;
	font-size: 0.64rem;
	font-weight: 700;
	line-height: 1;
	padding: 0.2rem 0.38rem;
	font-family: Consolas, "Courier New", monospace;
}

.watcher-task-collapsed-hidden {
	display: none !important;
}

.watcher-inline-title {
	font-weight: 600;
	color: #1f2937;
}

.watcher-inline-text {
	font-family: Consolas, "Courier New", monospace;
	color: #111827;
	white-space: pre-wrap;
	word-break: break-word;
	flex: 1 1 360px;
}

.watcher-inline-task .watcher-inline-text {
	font-family: "Segoe UI", Tahoma, sans-serif;
	color: #334155;
}

.watcher-inline-time {
	font-size: 0.78rem;
	color: #6b7280;
	white-space: nowrap;
	margin-left: auto;
}

.approval-panel {
	margin: 0.5rem 0.75rem;
	padding: 0.65rem;
	border: 1px solid #f59e0b;
	background: #fffbeb;
	border-radius: 6px;
}

.approval-summary {
	font-weight: 600;
	margin-bottom: 0.35rem;
}

.approval-details {
	font-size: 0.9rem;
	white-space: pre-wrap;
	margin-bottom: 0.5rem;
}

.approval-actions {
	display: flex;
	flex-wrap: wrap;
	gap: 0.35rem;
}

.approval-actions button {
	padding: 0.4rem 0.6rem;
	border: 1px solid #d1d5db;
	border-radius: 4px;
	background: #fff;
	cursor: pointer;
}

.sidebar-backdrop {
	display: none;
}

.hidden {
	display: none;
}

@media (max-width: 900px) {
	.layout {
		position: relative;
		overflow: hidden;
	}

	.main {
		grid-template-columns: 1fr;
		padding: 0.35rem;
		gap: 0.35rem;
		min-height: 100dvh;
	}

	.toolbar-mobile-projects-btn {
		display: inline-flex;
		align-items: center;
		gap: 0.35rem;
		top: max(0.5rem, env(safe-area-inset-top));
		left: 0.5rem;
		padding: 0.38rem 0.62rem !important;
		border: 1px solid #cbd5e1 !important;
		border-radius: 999px !important;
		background: rgba(255, 255, 255, 0.96) !important;
		color: #0f172a !important;
		box-shadow: 0 8px 16px rgba(2, 6, 23, 0.16);
		font-size: 0.82rem;
		line-height: 1;
	}

	.toolbar-mobile-projects-btn i {
		font-size: 0.86rem;
	}

	.layout.mobile-projects-open .toolbar-mobile-projects-btn {
		opacity: 0;
		pointer-events: none;
	}

	.codex-main {
		grid-template-columns: 1fr;
		gap: 0.35rem;
		min-height: calc(100dvh - 0.7rem);
	}

	.chat-panel {
		height: calc(100dvh - 0.7rem);
	}

	.session-sidebar {
		position: fixed;
		top: 0;
		bottom: 0;
		left: 0;
		width: min(88vw, 360px);
		max-height: none;
		z-index: 40;
		border-radius: 0 10px 10px 0;
		box-shadow: 0 20px 35px rgba(2, 6, 23, 0.34);
		transform: translateX(-105%);
		transition: transform 0.2s ease;
	}

	.layout.mobile-projects-open .session-sidebar {
		transform: translateX(0);
	}

	.sidebar-backdrop:not(.hidden) {
		display: block;
		position: fixed;
		inset: 0;
		border: 0;
		background: rgba(15, 23, 42, 0.46);
		z-index: 30;
		padding: 0;
		margin: 0;
	}

	.layout.sidebar-collapsed .session-sidebar {
		width: min(88vw, 360px);
		min-width: 0;
	}

	.layout.sidebar-collapsed .sidebar-divider {
		display: block;
	}

	.layout.sidebar-collapsed .sidebar-create-row {
		display: flex;
	}

	.layout.sidebar-collapsed .project-list {
		display: flex;
	}

	.layout.sidebar-collapsed .sidebar-shell-header {
		justify-content: space-between;
		padding-inline: 0.65rem;
	}

	.layout.sidebar-collapsed .sidebar-logo-btn {
		display: inline-flex;
	}

	.layout.sidebar-collapsed .sidebar-nav-link {
		justify-content: flex-start;
		padding-inline: 0.6rem;
	}

	.layout.sidebar-collapsed .sidebar-nav-link span {
		display: inline;
	}

	.panel-title {
		padding: 0.5rem 0.58rem;
	}

	.conversation-title-row {
		gap: 0.4rem;
		align-items: center;
		flex-wrap: wrap;
	}

	.conversation-title-text {
		max-width: 100%;
	}

	.conversation-meta-toggle {
		display: inline-flex;
		align-items: center;
		justify-content: center;
	}

	.conversation-meta {
		width: 100%;
		justify-content: flex-start;
		gap: 0.28rem 0.35rem;
	}

	.conversation-meta-summary {
		display: inline-flex;
	}

	.conversation-meta-value {
		max-width: 180px;
	}

	.conversation-meta-model select {
		min-width: 120px;
	}

	#conversationReasoningSelect {
		min-width: 96px;
	}

	.watcher-timeline {
		padding: 0.42rem;
		gap: 0.36rem;
	}

	.watcher-entry {
		padding: 0.38rem 0.45rem;
		padding-right: 2.05rem;
		border-left-width: 3px;
		border-radius: 6px;
	}

	.watcher-entry-header {
		margin-bottom: 0.2rem;
		gap: 0.45rem;
	}

	.watcher-entry-title {
		font-size: 0.82rem;
	}

	.watcher-entry-time {
		font-size: 0.7rem;
	}

	.watcher-entry-text {
		font-size: 0.77rem;
		line-height: 1.3;
	}

	.watcher-entry-copy-btn {
		width: 1.36rem;
		height: 1.36rem;
		padding: 0;
	}

	.watcher-entry-copy-icon {
		font-size: 0.72rem;
	}

	.watcher-entry-copy-label {
		display: none;
	}

	.watcher-embedded-entry {
		padding-right: 1.85rem;
	}

	.watcher-inline-entry {
		padding: 0.16rem 0.3rem;
		font-size: 0.73rem;
		gap: 0.24rem;
	}

	.server-meta {
		grid-template-columns: repeat(2, minmax(0, 1fr));
		padding: 0.45rem 0.5rem;
		gap: 0.32rem;
	}

	.server-meta-chip {
		padding: 0.28rem 0.38rem;
	}

	.server-section-title {
		padding: 0.42rem 0.5rem;
	}

	.server-table th,
	.server-table td {
		padding: 0.34rem 0.4rem;
		font-size: 0.72rem;
	}

	.server-raw-output {
		max-height: 260px;
		font-size: 0.68rem;
	}

	.prompt-queue {
		margin: 0.35rem 0.45rem 0;
		padding: 0.3rem 0.4rem;
		font-size: 0.77rem;
		max-height: 88px;
		overflow: auto;
	}

	.turn-activity {
		margin: 0.35rem 0.45rem 0;
		padding: 0.42rem 0.5rem;
	}

	.turn-activity-header {
		font-size: 0.72rem;
		gap: 0.35rem;
	}

	.turn-activity-cancel-link {
		font-size: 0.72rem;
	}

	.turn-activity-reasoning {
		font-size: 0.73rem;
	}

	.composer-images {
		gap: 0.34rem;
		padding: 0.35rem 0.45rem 0;
	}

	.composer-image-pill {
		width: 52px;
		height: 52px;
	}

	.prompt-form {
		display: block;
		padding: 0.45rem;
		position: sticky;
		bottom: 0;
		z-index: 6;
		background: rgba(255, 255, 255, 0.96);
		backdrop-filter: saturate(120%) blur(2px);
	}

	.prompt-form textarea {
		width: 100%;
		min-height: 5.2rem;
		max-height: 10rem;
		padding: 0.5rem 8.4rem 2.55rem 0.62rem;
	}

	.prompt-form textarea:focus {
		min-height: 6.4rem;
	}

	.prompt-actions {
		position: absolute;
		right: 0.95rem;
		bottom: 0.95rem;
		display: flex;
		align-items: center;
		column-gap: 0.24rem;
		row-gap: 0.24rem;
		min-width: 0;
		width: auto;
	}

	.scroll-to-bottom-btn {
		left: 50%;
		bottom: 5rem;
		width: 1.95rem;
		height: 1.95rem;
		transform: translateX(-50%);
	}

	.composer-status-stack {
		display: none;
	}

	.context-left-indicator {
		font-size: 0.6rem;
		padding: 0.15rem 0.36rem;
	}

	.permission-level-indicator {
		font-size: 0.62rem;
		padding: 0.18rem 0.34rem;
	}

	.prompt-upload-btn {
		width: 2rem;
		height: 2rem;
		margin-right: 0;
	}

	.prompt-queue-btn,
	.prompt-cancel-btn {
		min-width: 0;
		padding: 0.44rem 0.62rem !important;
		font-size: 0.95rem;
	}

	.prompt-queue-btn {
		width: 2rem;
		height: 2rem;
		min-width: 2rem;
		padding: 0 !important;
	}

	.prompt-cancel-btn {
		width: 2rem;
		height: 2rem;
		min-width: 2rem;
		padding: 0 !important;
	}

	.prompt-form .prompt-send-btn,
	.prompt-form .prompt-send-btn.solo-send {
		margin-left: 0.05rem;
		width: 2rem;
		height: 2rem;
		min-width: 2rem;
		padding: 0 !important;
	}
}
